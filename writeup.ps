%!PS-Adobe-2.0
%%Creator: dvips(k) 5.95a Copyright 2005 Radical Eye Software
%%Title: writeup.dvi
%%Pages: 9
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Times-Roman Times-Bold Courier Times-Italic CMR10 CMR8
%%+ CMSY10 Courier-Bold CMMI10
%%DocumentPaperSizes: Letter
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -o writeup.ps writeup.dvi
%DVIPSParameters: dpi=600
%DVIPSSource:  TeX output 2010.04.02:0124
%%BeginProcSet: tex.pro 0 0
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/CharBuilder{save 3 1 roll S A/base get 2 index get S
/BitMaps get S get/Cd X pop/ctr 0 N Cdx 0 Cx Cy Ch sub Cx Cw add Cy
setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx sub Cy .1 sub]{Ci}imagemask
restore}B/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc 0 0
% File 8r.enc  TeX Base 1 Encoding  Revision 2.0  2002-10-30
%
% @@psencodingfile@{
%   author    = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry,
%                W. Schmidt, P. Lehman",
%   version   = "2.0",
%   date      = "30 October 2002",
%   filename  = "8r.enc",
%   email     = "tex-fonts@@tug.org",
%   docstring = "This is the encoding vector for Type1 and TrueType
%                fonts to be used with TeX.  This file is part of the
%                PSNFSS bundle, version 9"
% @}
% 
% The idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard encoding, ISO Latin 1, Windows ANSI including the euro symbol,
% MacRoman, and some extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% These are /dotlessj /ff /ffi /ffl.
% 
% (4) hyphen appears twice for compatibility with both ASCII and Windows.
%
% (5) /Euro was assigned to 128, as in Windows ANSI
%
% (6) Missing characters from MacRoman encoding incorporated as follows:
%
%     PostScript      MacRoman        TeXBase1
%     --------------  --------------  --------------
%     /notequal       173             0x16
%     /infinity       176             0x17
%     /lessequal      178             0x18
%     /greaterequal   179             0x19
%     /partialdiff    182             0x1A
%     /summation      183             0x1B
%     /product        184             0x1C
%     /pi             185             0x1D
%     /integral       186             0x81
%     /Omega          189             0x8D
%     /radical        195             0x8E
%     /approxequal    197             0x8F
%     /Delta          198             0x9D
%     /lozenge        215             0x9E
%
/TeXBase1Encoding [
% 0x00
 /.notdef /dotaccent /fi /fl
 /fraction /hungarumlaut /Lslash /lslash
 /ogonek /ring /.notdef /breve
 /minus /.notdef /Zcaron /zcaron
% 0x10
 /caron /dotlessi /dotlessj /ff
 /ffi /ffl /notequal /infinity
 /lessequal /greaterequal /partialdiff /summation
 /product /pi /grave /quotesingle
% 0x20
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus
 /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three
 /four /five /six /seven
 /eight /nine /colon /semicolon
 /less /equal /greater /question
% 0x40
 /at /A /B /C
 /D /E /F /G
 /H /I /J /K
 /L /M /N /O
% 0x50
 /P /Q /R /S
 /T /U /V /W
 /X /Y /Z /bracketleft
 /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c
 /d /e /f /g
 /h /i /j /k
 /l /m /n /o
% 0x70
 /p /q /r /s
 /t /u /v /w
 /x /y /z /braceleft
 /bar /braceright /asciitilde /.notdef
% 0x80
 /Euro /integral /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /Omega /radical /approxequal
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /Delta /lozenge /Ydieresis
% 0xA0
 /.notdef /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot /hyphen /registered /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde
 /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def


%%EndProcSet
%%BeginProcSet: texps.pro 0 0
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]FontType 0
ne{/Metrics exch def dict begin Encoding{exch dup type/integertype ne{
pop pop 1 sub dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get
div def}ifelse}forall Metrics/Metrics currentdict end def}{{1 index type
/nametype eq{exit}if exch pop}loop}ifelse[2 index currentdict end
definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{dup
sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1 roll
mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def dup[
exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}if}
forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}def
end

%%EndProcSet
%%BeginFont: CMMI10
%!PS-AdobeFont-1.1: CMMI10 1.100
%%CreationDate: 1996 Jul 23 07:53:57
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.100) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMMI10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.04 def
/isFixedPitch false def
end readonly def
/FontName /CMMI10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 115 /s put
readonly def
/FontBBox{-32 -250 1048 750}readonly def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA0529731C99A784CCBE85B4993B2EEBDE
3B12D472B7CF54651EF21185116A69AB1096ED4BAD2F646635E019B6417CC77B
532F85D811C70D1429A19A5307EF63EB5C5E02C89FC6C20F6D9D89E7D91FE470
B72BEFDA23F5DF76BE05AF4CE93137A219ED8A04A9D7D6FDF37E6B7FCDE0D90B
986423E5960A5D9FBB4C956556E8DF90CBFAEC476FA36FD9A5C8175C9AF513FE
D919C2DDD26BDC0D99398B9F4D03D5993DFC0930297866E1CD0A319B6B1FD958
9E394A533A081C36D456A09920001A3D2199583EB9B84B4DEE08E3D12939E321
990CD249827D9648574955F61BAAA11263A91B6C3D47A5190165B0C25ABF6D3E
6EC187E4B05182126BB0D0323D943170B795255260F9FD25F2248D04F45DFBFB
DEF7FF8B19BFEF637B210018AE02572B389B3F76282BEB29CC301905D388C721
59616893E774413F48DE0B408BC66DCE3FE17CB9F84D205839D58014D6A88823
D9320AE93AF96D97A02C4D5A2BB2B8C7925C4578003959C46E3CE1A2F0EAC4BF
8B9B325E46435BDE60BC54D72BC8ACB5C0A34413AC87045DC7B84646A324B808
6FD8E34217213E131C3B1510415CE45420688ED9C1D27890EC68BD7C1235FAF9
1DAB3A369DD2FC3BE5CF9655C7B7EDA7361D7E05E5831B6B8E2EEC542A7B38EE
03BE4BAC6079D038ACB3C7C916279764547C2D51976BABA94BA9866D79F13909
95AA39B0F03103A07CBDF441B8C5669F729020AF284B7FF52A29C6255FCAACF1
74109050FBA2602E72593FBCBFC26E726EE4AEF97B7632BC4F5F353B5C67FED2
3EA752A4A57B8F7FEFF1D7341D895F0A3A0BE1D8E3391970457A967EFF84F6D8
47750B1145B8CC5BD96EE7AA99DDC9E06939E383BDA41175233D58AD263EBF19
AFC0E2F840512D321166547B306C592B8A01E1FA2564B9A26DAC14256414E4C8
42616728D918C74D13C349F4186EC7B9708B86467425A6FDB3A396562F7EE4D8
40B43621744CF8A23A6E532649B66C2A0002DD04F8F39618E4F572819DD34837
B5A08E643FDCA1505AF6A1FA3DDFD1FA758013CAED8ACDDBBB334D664DFF5B53
9560176676ABB71BBD0EE56B4CC492C0652750227CEC6F67753C2998076D9151
9E35E942CDFEAD187D349F663CF69BC8A3E9A0FEF4A1D9B376C164461F7BC100
EE3918C80FD3F14FC11B1509487AE4FE0432CD5DFFC4445B2425BED39FCB946C
DECE938C788B176A3291A45414296AAB9AAB9CFB638F07BEA99353AC901CE354
6AE5EAA6BD7E617DEF9B51EAAF6C12F803A7FF45911CC6DCBC8C7D2085BEF64F
A70D849A0673054A06555DC6616A5E1F972D8A6E833DADD60DD0FF8D61340483
0EAAA48F10198B522DB2BAEB415EA9D63C63B1AD1C89F5B4055C373A3DEB90E1
EF21B0FAAE6E023C09AD04C9F3E7ABCA953A24669C5287BD0C94A40D388B4A03
74E07CB9D61C50160812CF2AAC7F5E3DDB5E2D07E28A8DCEA8C53DF41B1CEE8A
ED2A8A2ACE2168AFF2DEC1EAA01436C1D7A5D6F8D41F88B241BECD2C76C4D4A7
4C59B5
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMSY10
%!PS-AdobeFont-1.1: CMSY10 1.0
%%CreationDate: 1991 Aug 15 07:20:57
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.0) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMSY10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.035 def
/isFixedPitch false def
end readonly def
/FontName /CMSY10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 15 /bullet put
readonly def
/FontBBox{-29 -960 1116 775}readonly def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052F09F9C8ADE9D907C058B87E9B6964
7D53359E51216774A4EAA1E2B58EC3176BD1184A633B951372B4198D4E8C5EF4
A213ACB58AA0A658908035BF2ED8531779838A960DFE2B27EA49C37156989C85
E21B3ABF72E39A89232CD9F4237FC80C9E64E8425AA3BEF7DED60B122A52922A
221A37D9A807DD01161779DDE7D31FF2B87F97C73D63EECDDA4C49501773468A
27D1663E0B62F461F6E40A5D6676D1D12B51E641C1D4E8E2771864FC104F8CBF
5B78EC1D88228725F1C453A678F58A7E1B7BD7CA700717D288EB8DA1F57C4F09
0ABF1D42C5DDD0C384C7E22F8F8047BE1D4C1CC8E33368FB1AC82B4E96146730
DE3302B2E6B819CB6AE455B1AF3187FFE8071AA57EF8A6616B9CB7941D44EC7A
71A7BB3DF755178D7D2E4BB69859EFA4BBC30BD6BB1531133FD4D9438FF99F09
4ECC068A324D75B5F696B8688EEB2F17E5ED34CCD6D047A4E3806D000C199D7C
515DB70A8D4F6146FE068DC1E5DE8BC5703711DA090312BA3FC00A08C453C609
C627A8BECD6E1FA14A3B02476E90AAD8B4700C400380BC9AFFBF7847EB28661B
9DC3AA0F44C533F2E07DCC4DE19D367BF223E33DC321D0247A0E6EF6ABC8FA52
15AE044094EF678A8726CD7C011F02BFF8AB6EAEEE391AD837120823BED0B5D8
F8B15245377871A64F78378BB4330149D6941F7A86FBFFC49B93C94155F5FA7D
F22E7214511C0A92693F4CDBF38411651540572F2DD70D924AE0F18E1CD581F3
C871399127FF5D07A868885B5FF7CDEB50B8323B2533DEF8DC973B1AE84FA0A2

0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMR8
%!PS-AdobeFont-1.1: CMR8 1.0
%%CreationDate: 1991 Aug 20 16:39:40
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.0) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMR8) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /CMR8 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 50 /two put
dup 51 /three put
readonly def
/FontBBox{-36 -250 1070 750}readonly def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5CF4E9D2405B169CD5365D6ECED5D768D66D6C
68618B8C482B341F8CA38E9BB9BAFCFAAD9C2F3FD033B62690986ED43D9C9361
3645B82392D5CAE11A7CB49D7E2E82DCD485CBA1772CE422BB1D7283AD675B65
48A7EA0069A883EC1DAA3E1F9ECE7586D6CF0A128CD557C7E5D7AA3EA97EBAD3
9619D1BFCF4A6D64768741EDEA0A5B0EFBBF347CDCBE2E03D756967A16B613DB
0FC45FA2A3312E0C46A5FD0466AB097C58FFEEC40601B8395E52775D0AFCD7DB
8AB317333110531E5C44A4CB4B5ACD571A1A60960B15E450948A5EEA14DD330F
EA209265DB8E1A1FC80DCD3860323FD26C113B041A88C88A21655878680A4466
FA10403D24BB97152A49B842C180E4D258C9D48F21D057782D90623116830BA3
9902B3C5F2F2DD01433B0D7099C07DBDE268D0FFED5169BCD03D48B2F058AD62
D8678C626DC7A3F352152C99BA963EF95F8AD11DB8B0D351210A17E4C2C55AD8
9EB64172935D3C20A398F3EEEEC31551966A7438EF3FEE422C6D4E05337620D5
ACC7B52BED984BFAAD36EF9D20748B05D07BE4414A63975125D272FAD83F76E6
10FFF8363014BE526D580873C5A42B70FA911EC7B86905F13AFE55EB0273F582
83158793B8CC296B8DE1DCCF1250FD57CB0E035C7EDA3B0092ED940D37A05493
2EC54E09B984FCA4AB7D2EA182BCF1263AA244B07EC0EA901C077A059F709F30
4384CB5FA748F2054FAD9A7A43D4EA427918BD414F766531136B60C3477C6632
BEFE3897B58C19276A301926C2AEF2756B367319772C9B201C49B4D935A8267B
041D6F1783B6AEA4DAC4F5B3507D7032AA640AAB12E343A4E9BDCF419C04A721
3888B25AF4E293AACED9A6BDC78E61DA1C424C6503CC1885F762B86FECDA8944
AA3B20AD6019056E01677B9580FFFDE526AD4D7DC47818BBED5A01621BC56F96
5560E81E1017CA6DE465E07BD7327C7850BFF9B177A885E31A95A8BC40247E18
76E04A0110CCA35C0467C5B09BECDA68EF5CD395219356A08B20BD31D259EAFD
E2354076854153575993EEBA7429D43087F179485EF25EC4AA259D70DAF83265
93DAD0DD4E42CBB889F9CC3DA0FECAD555E162F0F2205271F0BF5FE21E5B7BCE
B3D37D3B5B77F9D784C6B9DABEFC4D4CD8625EF5CC05DC52D04A3A3B1F688D73
9D1265B2B9EE6E84C4E2934759E254B52AC259B44A498F967E65005B3044F24A
9EFD3B2BF90E3B72F6E87CD7DF27BC014F94CC237C0F057A0A35EB0988468FA6
FB177DE9C6A031F1D4A9AB5E177CAF7CB3C6D2CA48B96D1F6B827BE767B73D61
E665F4564AB2BD3F30F7D53A2F85C39D0145DF6BD26AE5B2EE40697D8514FB60
C7EF183DDBAC8BD15F05DB6AEE06C78560851AD2510172AC42F16183978DAAA3
3EFF01DB8AEC89D36D57D179F9977AC57F25EA6B4E1911DC6FCCB8C24D583623
A91DDEC48ED21206BA68EA1DBB6EB015DABB984FB33AE42FCFD55B6FDFF35135
4C90AD35B5564269D949B5CDD072C371F5B9055EB169209C8E3BA4008A77D6D5
6D2787038BA8B01ABC5B1175A568F493778F6F0CBF1825917575325E56B55E60
5F1E0E80
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMR10
%!PS-AdobeFont-1.1: CMR10 1.00B
%%CreationDate: 1992 Feb 19 19:54:52
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.00B) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMR10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /CMR10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 50 /two put
readonly def
/FontBBox{-251 -250 1009 969}readonly def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5CF7158F1163BC1F3352E22A1452E73FECA8A4
87100FB1FFC4C8AF409B2067537220E605DA0852CA49839E1386AF9D7A1A455F
D1F017CE45884D76EF2CB9BC5821FD25365DDEA6E45F332B5F68A44AD8A530F0
92A36FAC8D27F9087AFEEA2096F839A2BC4B937F24E080EF7C0F9374A18D565C
295A05210DB96A23175AC59A9BD0147A310EF49C551A417E0A22703F94FF7B75
409A5D417DA6730A69E310FA6A4229FC7E4F620B0FC4C63C50E99E179EB51E4C
4BC45217722F1E8E40F1E1428E792EAFE05C5A50D38C52114DFCD24D54027CBF
2512DD116F0463DE4052A7AD53B641A27E81E481947884CE35661B49153FA19E
0A2A860C7B61558671303DE6AE06A80E4E450E17067676E6BBB42A9A24ACBC3E
B0CA7B7A3BFEA84FED39CCFB6D545BB2BCC49E5E16976407AB9D94556CD4F008
24EF579B6800B6DC3AAF840B3FC6822872368E3B4274DD06CA36AF8F6346C11B
43C772CC242F3B212C4BD7018D71A1A74C9A94ED0093A5FB6557F4E0751047AF
D72098ECA301B8AE68110F983796E581F106144951DF5B750432A230FDA3B575
5A38B5E7972AABC12306A01A99FCF8189D71B8DBF49550BAEA9CF1B97CBFC7CC
96498ECC938B1A1710B670657DE923A659DB8757147B140A48067328E7E3F9C3
7D1888B284904301450CE0BC15EEEA00E48CCD6388F3FC3C8578EF9A20A0E06E
4F7ADDAF0E7D1E182D115BF1AD931977325AD391E72E2B13CC108E3726C11099
E2000623188AAAC9F3E233EB253BDD8B0A4759A66A113E066238B0086AC1B634
5ABFF90E4B5ED3FA69C22541981B2BFC9710AEF6B50A8BB53431C7B4D380D721
639E005D6B4688EE16BFF48443E7C9E5FB5BC5883E271CB0342893C0BBC0A879
B7220832FB50103F72F8B5D9970C1D264F51D9CB905ED8436030E222D3A6A6A0
69C49D906CB3C315F803FD0CF0C8663A8E9D2BDF53143FA90ED258690327313B
687E8E72C93F677B83B23F7F71088B1F7F646048BFD889041CA27AA226E49E76
A58CDD82D48CBED75E298BB52F1C33158D3D57DA5CEF3AA1FE0D443C11E5599D
8397ED2C96B4E06004C1228B68BD63747D03C097ED490658A518550579F8B44E
FD52B875FB10185D3EE9F724EDA854B017318B58AF733E73B215507B28ECC791
F94D455EB4CC715463F67CB0B93A35EE32D77A45EFDAB43268B5B4994F9EF163
1A98DEEB687CAD2BA05696F2E3BEAA83AB9F36ADE85E59D18233DF794EB86672
6F4E94E62B30BFB03F3E4649EBD1850B4716F477FDCD0F77E939CBF42E7F84CA
AE
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
TeXDict begin 40258431 52099146 1000 600 600 (writeup.dvi)
@start /Fa 140[43 115[{}1 90.9091 /CMMI10 rf /Fb 139[55
5[55 55 3[55 3[55 59[55 55 40[{TeXBase1Encoding ReEncodeFont}7
90.9091 /Courier-Bold rf /Fc 240[45 15[{}1 90.9091 /CMSY10
rf /Fd 204[35 35 50[{}2 66.4176 /CMR8 rf /Fe 205[45 50[{}1
90.9091 /CMR10 rf /Ff 134[40 40 61 1[45 25 35 35 1[45
45 45 66 25 40 1[25 45 45 25 40 45 40 45 45 10[56 66
51 45 56 6[61 2[66 2[56 1[61 12[45 1[45 2[45 45 1[23
30 23 2[30 30 30 5[30 30[45 2[{TeXBase1Encoding ReEncodeFont}43
90.9091 /Times-Italic rf /Fg 105[45 28[45 1[66 1[51 30
35 40 1[51 45 51 76 25 2[25 51 45 30 40 51 40 51 45 7[66
4[61 4[71 66 8[61 66 9[30 11[23 12[30 30[51 2[{
TeXBase1Encoding ReEncodeFont}31 90.9091 /Times-Bold
rf /Fh 133[55 1[55 55 55 55 55 55 55 1[55 55 55 55 55
55 1[55 55 55 55 55 55 55 55 55 1[55 8[55 55 5[55 55
1[55 7[55 5[55 55 55 55 55 1[55 5[55 2[55 55 55 55 1[55
55 55 40[{TeXBase1Encoding ReEncodeFont}44 90.9091 /Courier
rf /Fi 104[91 28[40 45 45 66 45 45 25 35 30 45 45 45
45 71 25 45 25 25 45 45 30 40 45 40 45 40 7[66 1[86 66
66 56 51 61 1[51 66 66 81 56 66 1[30 66 66 51 56 66 61
61 66 5[25 25 45 45 45 45 45 45 45 45 45 45 25 23 30
23 1[45 30 30 30 71 4[30 29[51 51 2[{TeXBase1Encoding ReEncodeFont}73
90.9091 /Times-Roman rf /Fj 136[86 60 66 40 47 53 1[66
60 66 100 33 66 1[33 66 60 1[53 66 53 66 60 9[120 2[80
66 86 1[73 93 1[113 80 2[47 93 2[80 86 10[60 60 60 60
60 60 60 60 60 60 2[40 45[{TeXBase1Encoding ReEncodeFont}43
119.552 /Times-Bold rf /Fk 134[72 3[72 40 56 48 1[72
72 72 112 40 72 1[40 72 72 48 64 72 64 72 64 9[135 2[88
80 4[104 128 88 2[48 2[80 1[104 96 1[104 6[40 72 2[72
72 1[72 72 72 72 2[48 36 44[{TeXBase1Encoding ReEncodeFont}41
143.462 /Times-Roman rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
 end
%%EndSetup
%%Page: 1 1
TeXDict begin 1 0 bop 1355 937 a Fk(15-213,)34 b(Spring)h(2010)492
1120 y(Malloc)g(Lab:)43 b(Writing)35 b(a)h(Dynamic)d(Storage)i
(Allocator)1030 1303 y(Assigned:)42 b(T)-6 b(uesday)d(,)33
b(March)i(23rd)1036 1535 y(No)g(Late)g(T)-6 b(urn)34
b(in)h(for)h(Checkpoint)926 1768 y(Due:)44 b(T)-6 b(uesday)d(,)33
b(April)h(13th,)h(11:59pm)225 1950 y(FIN)-5 b(AL)35 b(possible)f(date)h
(to)g(submit:)43 b(Friday)35 b(April)f(16th,)h(11:59pm)0
2659 y Fj(1)119 b(Intr)n(oduction)0 2906 y Fi(In)32 b(this)h(lab)f(you)
h(will)f(be)g(writing)h(a)f(dynamic)h(storage)h(allocator)g(for)f(C)e
(programs,)k(that)e(is,)h(your)f(o)n(wn)e(v)o(ersion)j(of)0
3018 y(the)28 b Fh(malloc)p Fi(,)e Fh(free)p Fi(,)g Fh(realloc)p
Fi(,)f(and)j Fh(calloc)d Fi(functions.)44 b(Y)-10 b(ou)28
b(are)g(encouraged)k(to)27 b(e)o(xplore)j(the)e(design)i(space)0
3131 y(creati)n(v)o(ely)c(and)e(implement)g(an)g(allocator)i(that)e(is)
f(correct,)i(ef)n(\002cient)f(and)g(f)o(ast.)0 3461 y
Fj(2)119 b(W)-8 b(ar)n(ning)0 3707 y Fi(Bugs)21 b(can)f(be)h
(especially)i(pernicious)g(and)e(dif)n(\002cult)h(to)e(track)i(do)n(wn)
e(in)g(an)h(allocator)l(,)i(and)e(you)g(may)f(easily)i(spend)g(more)0
3820 y(time)h(deb)n(ugging)k(than)d(coding)i(in)d(this)h(assignment.)31
b(W)-7 b(e)23 b Fg(str)n(ongly)i Fi(encourage)h(you)e(to)g(start)g
(early)-6 b(.)0 4150 y Fj(3)119 b(Logistics)0 4396 y
Fi(This)23 b(is)h(an)f(indi)n(vidual)j(project.)31 b(Y)-10
b(ou)23 b(should)i(do)f(this)g(lab)g(on)f(one)h(of)g(the)g(\002sh)f
(machines.)0 4726 y Fj(4)119 b(Hand)31 b(Out)f(Instructions)0
4972 y Fi(Start)38 b(by)f(do)n(wnloading)j Fh(malloclab-final-)o(ha)o
(nd)o(ou)o(t.t)o(ar)30 b Fi(from)38 b(Autolab)g(to)g(a)f(protected)j
(directory)g(in)0 5085 y(which)18 b(you)h(plan)g(to)f(do)g(your)h(w)o
(ork.)27 b(Then)18 b(gi)n(v)o(e)g(the)h(command)f Fh(tar)54
b(xvf)f(malloclab-fina)o(l-h)o(an)o(do)o(ut)o(.t)o(ar)p
Fi(.)0 5198 y(This)23 b(will)h(cause)g(a)f(number)i(of)e(\002les)g(to)h
(be)f(unpack)o(ed)k(into)d(the)g(directory)-6 b(.)0 5350
y Ff(The)21 b(only)h(\002le)g(you)g(will)f(be)g(modifying)i(and)f
(turning)i(in)d(is)g Fh(mm.c)p Ff(,)e(whic)o(h)j(contains)h(your)g
(solution.)30 b Fi(The)21 b Fh(mdriver.c)0 5463 y Fi(program)h(is)f(a)g
(dri)n(v)o(er)g(program)i(that)e(allo)n(ws)h(you)f(to)g(locally)i(e)n
(v)n(aluate)g(the)e(performance)i(of)e(your)h(solution)i(in)d(the)g
(same)1924 5712 y(1)p eop end
%%Page: 2 2
TeXDict begin 2 1 bop 0 573 a Fi(w)o(ay)26 b(that)g(Autolab)h(will)e(e)
n(v)n(aluate)j(your)e(\002nal)g(submission.)38 b(Use)25
b(the)h(command)h Fh(make)c Fi(to)j(generate)i(the)e(dri)n(v)o(er)g
(code)0 686 y(and)e(run)g(it)f(with)h(the)f(command)i
Fh(./mdriver)p Fi(.)0 1018 y Fj(5)119 b(Ho)o(w)30 b(to)g(W)-9
b(ork)29 b(on)i(the)f(Lab)0 1264 y Fi(Y)-10 b(our)32
b(dynamic)h(storage)h(allocator)g(will)e(consist)h(of)f(the)g(follo)n
(wing)i(functions,)i(which)c(are)g(declared)i(in)e Fh(mm.h)d
Fi(and)0 1377 y(de\002ned)24 b(in)g Fh(mm.c)p Fi(.)218
1628 y Fh(int)162 b(mm_init\(void\);)218 1741 y(void)491
1757 y(*)546 1741 y(malloc\(size_t)48 b(size\);)218 1854
y(void)107 b(free\(void)1091 1870 y(*)1146 1854 y(ptr\);)218
1967 y(void)491 1983 y(*)546 1967 y(realloc\(void)1255
1983 y(*)1310 1967 y(ptr,)52 b(size_t)g(size\);)218 2080
y(void)491 2096 y(*)546 2080 y(calloc)f(\(size_t)h(nmemb,)f(size_t)h
(size\);)218 2193 y(void)107 b(mm_heapcheck\(voi)o(d\))o(;)0
2444 y Fi(The)20 b Fh(mm.c)f Fi(\002le)h(we)g(ha)n(v)o(e)h(gi)n(v)o(en)
h(you)f(implements)i(nothing.)29 b(Ho)n(we)n(v)o(er)l(,)21
b(we)f(ha)n(v)o(e)i(also)f(pro)o(vided)i(you)f(with)e(a)h(program)0
2557 y(called)k Fh(mm-naive.c)p Fi(,)19 b(which)25 b(implements)g(e)n
(v)o(erything)i(correctly)-6 b(,)26 b(b)n(ut)f(nai)n(v)o(ely)-6
b(.)32 b(In)24 b(addition,)i(there)f(is)f(an)g(e)o(xample)0
2670 y(implicit)h(list)f(allocator)h(described)h(in)e(your)g(te)o
(xtbook.)0 2822 y(Because)g(we)f(are)g(running)i(on)f(64-bit)g
(machines,)h(your)f(allocator)h(must)e(be)h(coded)g(accordingly)-6
b(,)27 b(with)c(one)g(e)o(xception:)0 2935 y(the)30 b(size)g(of)g(the)g
(heap)g(will)f(ne)n(v)o(er)i(be)e(greater)i(than)g(or)e(equal)i(to)f
Fe(2)2209 2902 y Fd(32)2313 2935 y Fi(bytes.)48 b(This)30
b(does)g Ff(not)g Fi(imply)g(an)o(ything)i(about)0 3048
y(the)25 b(location)j(of)d(the)g(heap,)i(b)n(ut)e(there)i(is)e(a)f
(neat)i(optimization)i(that)e(can)g(be)f(done)h(using)g(this)g
(information.)36 b(Ho)n(we)n(v)o(er)l(,)0 3161 y(be)30
b(v)o(ery)-6 b(,)33 b(v)o(ery)e(careful)h(if)e(you)h(decide)h(to)e(tak)
o(e)h(adv)n(antage)i(of)d(this)h(f)o(act.)50 b(There)31
b(are)g(certain)g(in)l(v)n(alid)i(optimizations)0 3274
y(that)24 b(will)f(pass)h(all)g(the)f(dri)n(v)o(er)h(checks)h(because)g
(of)f(the)f(limited)i(range)f(of)f(functionaly)k(we)22
b(can)i(check)h(in)e(a)g(reasonable)0 3387 y(amount)k(of)e(time,)h(so)g
(we')o(ll)g(be)g(manually)h(looking)h(o)o(v)o(er)e(your)g(code)h(for)f
(these)h(violations.)38 b(If)25 b(you)i(don')n(t)g(understand)0
3500 y(this)21 b(paragraph,)j(you)d(should)i(re-read)f(the)f(x86)p
1525 3500 28 4 v 34 w(64)g(handout)i(and)f(come)e(to)h(of)n(\002ce)g
(hours)h(with)f(questions)i(if)e(you')-5 b(re)22 b(still)0
3613 y(unsure.)0 3765 y(Y)-10 b(ou)24 b(may)g(use)g Fh(mm.c)p
Fi(,)e Fh(mm-naive.c)p Fi(,)d(or)24 b(the)g(book')-5
b(s)26 b(e)o(xample)f(code)g(as)f(starting)i(points)g(for)f(your)g(o)n
(wn)e Fh(mm.c)f Fi(\002le.)0 3878 y(Implement)i(the)e(functions)j
(\(and)e(possibly)i(de\002ne)e(other)g(pri)n(v)n(ate)h
Fh(static)19 b Fi(helper)k(functions\),)j(so)c(that)h(the)o(y)g(obe)o
(y)g(the)0 3991 y(follo)n(wing)i(semantics:)136 4242
y Fc(\017)46 b Fh(mm)p 342 4242 V 32 w(init:)25 b Fi(Performs)e(an)o(y)
f(necessary)j(initializations,)h(such)d(as)f(allocating)j(the)d
(initial)h(heap)g(area.)29 b(The)22 b(return)227 4355
y(v)n(alue)29 b(should)h(be)e(-1)g(if)g(there)g(w)o(as)g(a)g(problem)h
(in)f(performing)i(the)e(initialization,)33 b(0)28 b(otherwise.)44
b Fg(Do)27 b(not)g(call)227 4468 y Fb(mem)p 397 4468
V 32 w(init\(\))20 b Fg(fr)n(om)k(this)f(function!)227
4618 y Fi(Ev)o(ery)33 b(time)g(the)h(dri)n(v)o(er)f(e)o(x)o(ecutes)i(a)
e(ne)n(w)f(trace,)k(it)d(resets)h(your)g(heap)g(to)f(the)h(empty)f
(heap)h(by)f(calling)i(your)227 4731 y Fh(mm)p 342 4731
V 32 w(init)21 b Fi(function.)136 4919 y Fc(\017)46 b
Fh(malloc:)f Fi(The)34 b Fh(malloc)c Fi(routine)35 b(returns)g(a)e
(pointer)j(to)d(an)h(allocated)i(block)f(payload)g(of)f(at)f(least)i
Fh(size)227 5032 y Fi(bytes.)42 b(The)28 b(entire)g(allocated)i(block)f
(should)g(lie)f(within)g(the)g(heap)h(re)o(gion)f(and)g(should)i(not)e
(o)o(v)o(erlap)g(with)g(an)o(y)227 5145 y(other)d(allocated)h(chunk.)
227 5295 y(Since)35 b(the)f(standard)j(C)c(library)i(\()p
Fh(libc)p Fi(\))e(malloc)h(al)o(w)o(ays)h(returns)h(payload)h(pointers)
f(that)f(are)f(aligned)i(to)e(8)227 5408 y(bytes,)25
b(your)f(malloc)g(implementation)j(should)e(do)e(lik)o(e)n(wise)i(and)f
(al)o(w)o(ays)g(return)h(8-byte)g(aligned)h(pointers.)1924
5712 y(2)p eop end
%%Page: 3 3
TeXDict begin 3 2 bop 136 573 a Fc(\017)46 b Fh(free:)f
Fi(The)33 b Fh(free)d Fi(routine)35 b(frees)e(the)h(block)g(pointed)h
(to)d(by)i Fh(ptr)p Fi(.)54 b(It)33 b(returns)i(nothing.)59
b(This)32 b(routine)j(is)227 686 y(only)28 b(guaranteed)h(to)e(w)o(ork)
g(when)f(the)h(passed)h(pointer)h(\()p Fh(ptr)p Fi(\))c(w)o(as)h
(returned)j(by)d(an)h(earlier)h(call)f(to)g Fh(malloc)p
Fi(,)227 799 y Fh(calloc)p Fi(,)20 b(or)j Fh(realloc)d
Fi(and)k(has)g(not)g(yet)g(been)g(freed.)30 b Fh(free\(NULL\))18
b Fi(has)24 b(no)f(ef)n(fect.)136 986 y Fc(\017)46 b
Fh(realloc:)40 b Fi(The)30 b Fh(realloc)d Fi(routine)33
b(returns)g(a)d(pointer)j(to)e(an)g(allocated)i(re)o(gion)f(of)f(at)g
(least)g Fh(size)e Fi(bytes)227 1099 y(with)24 b(the)f(follo)n(wing)i
(constraints.)336 1312 y Fg(\226)46 b Fi(if)24 b Fh(ptr)d
Fi(is)i(NULL,)e(the)j(call)g(is)f(equi)n(v)n(alent)j(to)e
Fh(malloc\(size\))p Fi(;)336 1458 y Fg(\226)46 b Fi(if)24
b Fh(size)c Fi(is)k(equal)g(to)g(zero,)g(the)g(call)g(is)f(equi)n(v)n
(alent)j(to)d Fh(free\(ptr\))p Fi(,)c(and)24 b(should)h(return)g(NULL;)
336 1604 y Fg(\226)46 b Fi(if)31 b Fh(ptr)e Fi(is)i(not)h(NULL,)c(it)j
(must)g(ha)n(v)o(e)h(been)g(returned)i(by)d(an)g(earlier)i(call)e(to)g
Fh(malloc)d Fi(or)j Fh(realloc)p Fi(,)427 1717 y(and)26
b(not)g(yet)g(ha)n(v)o(e)g(been)g(freed.)36 b(The)25
b(call)h(to)f Fh(realloc)d Fi(tak)o(es)k(an)g(e)o(xisting)h(block)g(of)
e(memory)-6 b(,)26 b(pointed)427 1830 y(to)j(by)h Fh(ptr)d
Fi(\227)h(the)h Ff(old)h(bloc)n(k)p Fi(.)47 b(It)28 b(then)i(allocates)
i(a)c(re)o(gion)j(of)e(memory)g(lar)n(ge)i(enough)g(to)e(hold)h
Fh(size)427 1943 y Fi(bytes)24 b(and)e(returns)i(the)f(address)h(of)e
(this)h(ne)n(w)f(block.)29 b(Note)23 b(that)g(the)f(address)i(of)e(the)
h(ne)n(w)f(block)h(might)g(be)427 2056 y(the)k(same)g(as)f(the)h(old)g
(block)g(\(perhaps)i(there)f(w)o(as)e(free)h(space)g(after)h(the)e(old)
h(block)h(and)f(it)f(could)i(just)f(be)427 2169 y(e)o(xtended,)k(or)d
(the)h(ne)n(w)e Fh(size)f Fi(w)o(as)h(smaller)i(than)g(the)f(old)h
(size\),)h(or)e(it)g(might)g(be)g(dif)n(ferent,)j(depending)427
2281 y(on)c(your)g(implementation,)j(the)d(amount)g(of)f(internal)j
(fragmentation)g(in)e(the)f(old)h(block,)h(and)f(the)g(size)g(of)427
2394 y(the)e Fh(realloc)20 b Fi(request.)32 b(If)24 b(the)h(call)f(to)g
Fh(realloc)d Fi(doesn')n(t)26 b(f)o(ail)f(and)f(the)h(returned)h
(address)g(is)e(dif)n(ferent)427 2507 y(than)f(the)g(address)h(passed)g
(in,)e(the)h(old)g(block)g(has)g(been)g(freed)h(and)e(should)j(not)d
(be)h(used,)g(freed,)g(or)f(passed)427 2620 y(to)i(realloc)h(again.)427
2750 y(The)c(contents)j(of)d(the)h(ne)n(w)f(block)i(are)e(the)h(same)g
(as)f(those)i(of)e(the)h(old)g Fh(ptr)d Fi(block,)k(up)e(to)h(the)g
(minimum)f(of)427 2863 y(the)26 b(old)g(and)g(ne)n(w)f(sizes.)36
b(Ev)o(erything)27 b(else)f(is)g(uninitialized.)38 b(F)o(or)25
b(e)o(xample,)h(if)g(the)g(old)f(block)i(is)f(8)f(bytes)427
2976 y(and)i(the)f(ne)n(w)f(block)j(is)d(12)h(bytes,)i(then)f(the)f
(\002rst)g(8)f(bytes)i(of)f(the)g(ne)n(w)g(block)h(are)f(identical)i
(to)e(the)h(\002rst)e(8)427 3088 y(bytes)g(of)e(the)h(old)g(block)h
(and)f(the)g(last)g(4)f(bytes)h(are)g(uninitialized.)33
b(Similarly)-6 b(,)24 b(if)f(the)h(old)g(block)g(is)g(8)f(bytes)427
3201 y(and)h(the)h(ne)n(w)e(block)i(is)e(4)h(bytes,)g(then)h(the)f
(contents)i(of)d(the)h(ne)n(w)f(block)i(are)f(identical)i(to)e(the)g
(\002rst)f(4)h(bytes)427 3314 y(of)g(the)g(old)f(block.)136
3527 y Fc(\017)46 b Fh(calloc:)g Fi(Allocates)35 b(memory)f(for)g(an)g
(array)h(of)f Fh(nmemb)d Fi(elements)k(of)f Fh(size)d
Fi(bytes)k(each)g(and)f(returns)h(a)227 3640 y(pointer)26
b(to)d(the)h(allocated)i(memory)-6 b(.)29 b(The)23 b(memory)h(is)f(set)
h(to)f(zero)h(before)h(returning.)227 3790 y Fg(Note:)48
b(Y)-10 b(our)32 b Fh(calloc)d Fg(will)k(not)f(be)g(graded)g(on)g(thr)n
(oughput)g(or)h(perf)n(ormance.)57 b(Ther)n(ef)n(or)n(e)34
b(a)f(corr)n(ect)227 3903 y(simple)24 b(implementation)f(will)h
(suf\002ce.)136 4090 y Fc(\017)46 b Fh(mm)p 342 4090
28 4 v 32 w(checkheap:)24 b Fi(The)f Fh(mm)p 1222 4090
V 32 w(checkheap)c Fi(function)26 b(scans)f(the)f(heap)g(and)g(checks)h
(it)f(for)g(consistenc)o(y)-6 b(.)32 b(This)227 4203
y(function)f(will)c(be)i(v)o(ery)f(useful)i(in)e(deb)n(ugging)j(your)e
(malloc)g(implementation.)46 b(Some)27 b(malloc)i(b)n(ugs)g(are)g(v)o
(ery)227 4316 y(hard)22 b(to)e(deb)n(ug)j(using)e(con)l(v)o(entional)k
(gdb)c(techniques.)31 b(The)20 b(only)i(ef)n(fecti)n(v)o(e)g(technique)
h(for)e(some)g(of)f(these)i(b)n(ugs)227 4429 y(is)i(to)f(use)h(a)f
(heap)h(consistenc)o(y)j(check)o(er)-5 b(.)30 b(When)24
b(you)g(you)g(encounter)i(a)d(b)n(ug,)h(you)g(can)g(isolate)h(it)f
(with)f(repeated)227 4542 y(calls)30 b(to)g(the)f(consistenc)o(y)k
(check)o(er)e(until)f(you)g(\002nd)f(the)g(instruction)k(that)d
(corrupted)i(your)e(heap.)47 b(Because)30 b(of)227 4655
y(the)c(importance)h(of)e(the)h(consistenc)o(y)i(check)o(er)l(,)g(it)d
(will)f(be)i(graded.)35 b(If)25 b(you)h(ask)f(a)g(member)g(of)g(the)h
(course)g(staf)n(f)227 4768 y(for)e(help,)g(the)f(\002rst)h(thing)g(we)
f(will)g(do)g(is)g(ask)h(to)g(see)f(your)i(checkheap)h(function,)f(so)f
(please)g(write)g(this)g(function)227 4881 y(before)h(coming)g(to)e
(see)h(us!)0 5133 y(These)f(semantics)i(match)e(the)g(semantics)h(of)f
(the)g(corresponding)k Fh(libc)20 b Fi(routines)25 b(\(note)f(that)f
Fh(mm)p 3187 5133 V 32 w(checkheap)18 b Fi(does)0 5245
y(not)24 b(ha)n(v)o(e)g(a)f(corresponding)28 b(function)d(in)f
Fh(libc)p Fi(\).)i(T)-7 b(ype)23 b Fh(man)54 b(malloc)19
b Fi(to)24 b(the)g(shell)g(for)g(complete)h(documentation.)1924
5712 y(3)p eop end
%%Page: 4 4
TeXDict begin 4 3 bop 0 573 a Fj(6)119 b(Support)32 b(Routines)0
819 y Fi(The)19 b Fh(memlib.c)c Fi(package)22 b(simulates)f(the)f
(memory)f(system)h(for)g(your)g(dynamic)h(memory)f(allocator)-5
b(.)30 b(Y)-10 b(ou)19 b(can)h(in)l(v)n(ok)o(e)0 932
y(the)k(follo)n(wing)h(functions)h(in)d Fh(memlib.c)p
Fi(:)136 1173 y Fc(\017)46 b Fh(void)500 1189 y(*)555
1173 y(mem)p 725 1173 28 4 v 31 w(sbrk\(int)51 b(incr\))p
Fi(:)g(Expands)37 b(the)g(heap)g(by)f Fh(incr)d Fi(bytes,)40
b(where)d Fh(incr)c Fi(is)j(a)f(positi)n(v)o(e)227 1286
y(non-zero)28 b(inte)o(ger)l(,)f(and)e(returns)i(a)e(generic)h(pointer)
h(to)e(the)h(\002rst)e(byte)i(of)f(the)h(ne)n(wly)f(allocated)i(heap)f
(area.)34 b(The)227 1399 y(semantics)g(are)e(identical)i(to)e(the)g
(Unix)f Fh(sbrk)f Fi(function,)35 b(e)o(xcept)e(that)f
Fh(mem)p 2771 1399 V 32 w(sbrk)d Fi(accepts)34 b(only)e(a)f(positi)n(v)
o(e)227 1512 y(non-zero)26 b(inte)o(ger)f(ar)n(gument.)136
1696 y Fc(\017)46 b Fh(void)500 1712 y(*)555 1696 y(mem)p
725 1696 V 31 w(heap)p 976 1696 V 31 w(lo\(void\))p Fi(:)25
b(Returns)f(a)f(generic)j(pointer)f(to)e(the)h(\002rst)f(byte)i(in)e
(the)h(heap.)136 1881 y Fc(\017)46 b Fh(void)500 1897
y(*)555 1881 y(mem)p 725 1881 V 31 w(heap)p 976 1881
V 31 w(hi\(void\))p Fi(:)25 b(Returns)f(a)f(generic)j(pointer)f(to)e
(the)h(last)g(byte)g(in)g(the)g(heap.)136 2065 y Fc(\017)46
b Fh(size)p 452 2065 V 31 w(t)54 b(mem)p 757 2065 V 32
w(heapsize\(void\))o Fi(:)23 b(Returns)h(the)g(current)h(size)f(of)g
(the)g(heap)g(in)f(bytes.)136 2249 y Fc(\017)46 b Fh(size)p
452 2249 V 31 w(t)54 b(mem)p 757 2249 V 32 w(pagesize\(void\))o
Fi(:)22 b(Returns)i(the)f(system')-5 b(s)25 b(page)e(size)h(in)e(bytes)
i(\(4K)f(on)g(Linux)g(systems\).)0 2579 y Fj(7)119 b(The)31
b(T)-9 b(race-dri)o(v)o(en)30 b(Dri)o(v)o(er)g(Pr)n(ogram)0
2825 y Fi(The)23 b(dri)n(v)o(er)h(program)g Fh(mdriver.c)19
b Fi(in)k(the)g Fh(malloclab-hando)o(ut.)o(ta)o(r)16
b Fi(distrib)n(ution)27 b(tests)d(your)g Fh(mm.c)d Fi(pack-)0
2938 y(age)31 b(for)g(correctness,)k(space)c(utilization,)k(and)c
(throughput.)53 b(The)30 b(dri)n(v)o(er)h(program)h(is)e(controlled)j
(by)e(a)f(set)h(of)f Ff(tr)o(ace)0 3051 y(\002les)22
b Fi(that)f(are)g(included)i(in)e(the)g Fh(malloclab-hando)o(ut)o(.ta)o
(r)14 b Fi(distrib)n(ution.)31 b(Each)21 b(trace)h(\002le)e(contains)j
(a)e(sequence)0 3164 y(of)26 b(allocate)j(and)e(free)g(directions)i
(that)e(instruct)i(the)e(dri)n(v)o(er)g(to)f(call)i(your)f
Fh(malloc)c Fi(and)k Fh(free)d Fi(routines)29 b(in)d(some)h(se-)0
3277 y(quence.)k(The)24 b(dri)n(v)o(er)g(and)h(the)f(trace)h(\002les)e
(are)h(the)h(same)f(ones)g(we)f(will)h(use)g(when)g(we)f(grade)i(your)g
(handin)h Fh(mm.c)21 b Fi(\002le.)0 3390 y Fg(Note:)45
b Fi(W)-7 b(e)31 b(will)g(use)h(dif)n(ferent)h(traces)g(to)f(grade)g
(your)h(\002nal)e(submission,)36 b(those)c(traces)h(will)e(be)h
(released)h(after)g(the)0 3503 y(checkpoint)27 b(is)c(due.)29
b(Y)-10 b(our)24 b(checkpoint)i(submission)g(will)d(not)h(be)g(e)o
(xpected)h(to)f(pass)g(the)g(\002nal-traces.)0 3655 y(When)f(the)g(dri)
n(v)o(er)h(program)g(is)f(run,)g(it)g(will)f(run)i(each)f(trace)h
(\002le)f(12)g(times:)29 b(once)24 b(to)e(mak)o(e)i(sure)f(your)h
(implementation)0 3768 y(is)f(correct,)i(once)g(to)e(determine)i(the)f
(space)h(utilization,)h(and)e(10)g(times)f(to)h(determine)h(the)f
(performance.)0 3920 y(The)h(dri)n(v)o(er)h Fh(mdriver.c)20
b Fi(accepts)28 b(the)d(follo)n(wing)i(command)f(line)g(ar)n(guments.)
37 b(The)25 b(normal)h(operation)i(is)d(to)g(run)h(it)0
4033 y(with)d(no)h(ar)n(guments,)i(b)n(ut)e(you)g(may)f(\002nd)g(it)g
(useful)i(to)f(use)g(the)g(ar)n(guments)h(during)g(de)n(v)o(elopment.)
136 4274 y Fc(\017)46 b Fh(-t)54 b(<tracedir>)p Fi(:)40
b(Look)31 b(for)h(the)g(def)o(ault)h(trace)f(\002les)f(in)h(directory)i
Fh(tracedir)27 b Fi(instead)33 b(of)e(the)h(def)o(ault)227
4387 y(directory)26 b(de\002ned)f(in)e Fh(config.h)p
Fi(.)136 4571 y Fc(\017)46 b Fh(-f)54 b(<tracefile>)p
Fi(:)24 b(Use)f(one)h(particular)i Fh(tracefile)19 b
Fi(instead)25 b(of)f(the)g(def)o(ault)h(set)f(of)f(trace\002les)i(for)f
(test-)227 4684 y(ing)g(correctness)j(and)d(performance.)136
4869 y Fc(\017)46 b Fh(-c)54 b(<tracefile>)p Fi(:)27
b(Run)e(a)g(particular)j Fh(tracefile)21 b Fi(e)o(xactly)26
b(once,)h(testing)g(only)f(for)g(correctness.)37 b(This)227
4981 y(option)25 b(is)f(e)o(xtremently)h(useful)g(if)f(you)g(w)o(ant)f
(to)h(print)g(out)g(deb)n(ugging)j(messages.)136 5166
y Fc(\017)46 b Fh(-h)p Fi(:)28 b(Print)23 b(a)g(summary)i(of)e(the)h
(command)g(line)g(ar)n(guments.)136 5350 y Fc(\017)46
b Fh(-l)p Fi(:)37 b(Run)28 b(and)g(measure)h Fh(libc)d
Fi(malloc)i(in)g(addition)j(to)c(the)i(student')-5 b(s)30
b(malloc)f(package.)44 b(This)28 b(is)g(interesting)227
5463 y(mainly)d(to)e(see)h(ho)n(w)f(slo)n(w)g(the)h(libc)g(malloc)g
(package)i(is.)1924 5712 y(4)p eop end
%%Page: 5 5
TeXDict begin 5 4 bop 136 573 a Fc(\017)46 b Fh(-V)p
Fi(:)27 b(V)-10 b(erbose)29 b(output.)45 b(Prints)28
b(additional)j(diagnostic)g(information)g(as)d(each)h(trace)g(\002le)f
(is)g(processed.)45 b(Useful)227 686 y(during)25 b(deb)n(ugging)i(for)d
(determining)i(which)e(trace)g(\002le)f(is)g(causing)j(your)e(malloc)g
(package)i(to)d(f)o(ail.)136 873 y Fc(\017)46 b Fh(-v)54
b(<verbose)d(level>)p Fi(:)35 b(This)28 b(optional)j(feature)f(lets)f
(you)g(set)f(your)h(v)o(erbose)h(le)n(v)o(el)f(manually)h(to)e(a)g(par)
n(-)227 986 y(ticular)d(inte)o(ger)-5 b(.)136 1174 y
Fc(\017)46 b Fh(-d)54 b(<i>)p Fi(:)29 b(At)23 b(deb)n(ug)j(le)n(v)o(el)
f(0,)f(v)o(ery)g(little)h(v)n(alidity)i(checking)f(is)e(done.)33
b(This)24 b(is)g(useful)i(if)e(you')-5 b(re)26 b(mostly)f(done)227
1287 y(b)n(ut)f(just)g(tweaking)h(performance.)227 1437
y(At)h(deb)n(ug)j(le)n(v)o(el)e(1,)g(e)n(v)o(ery)g(array)h(the)g(dri)n
(v)o(er)f(allocates)i(is)e(\002lled)g(with)g(random)h(bits.)39
b(When)27 b(the)g(array)h(is)f(freed)227 1550 y(or)d(reallocated,)i(we)
d(check)h(to)g(mak)o(e)g(sure)g(the)g(bits)g(ha)n(v)o(en')n(t)h(been)g
(changed.)30 b(This)24 b(is)f(the)h(def)o(ault.)227 1700
y(At)32 b(deb)n(ug)h(le)n(v)o(el)g(2,)g(e)n(v)o(ery)g(time)f(an)o(y)g
(operation)j(is)d(done,)j(all)d(arrays)i(are)e(check)o(ed.)57
b(This)32 b(is)g(v)o(ery)h(slo)n(w)-6 b(,)33 b(b)n(ut)227
1813 y(useful)25 b(to)f(disco)o(v)o(er)h(problems)g(v)o(ery)f(quickly)
-6 b(.)136 2001 y Fc(\017)46 b Fh(-D)p Fi(:)22 b(Equi)n(v)n(alent)j(to)
f Fh(-d2)p Fi(.)136 2188 y Fc(\017)46 b Fh(-s)54 b(<s>)p
Fi(:)27 b(T)m(imeout)d(after)g Fa(s)e Fi(seconds.)31
b(The)23 b(def)o(ault)i(is)f(to)f(ne)n(v)o(er)h(timeout.)0
2520 y Fj(8)119 b(Pr)n(ogramming)29 b(Rules)136 2765
y Fc(\017)46 b Fi(Y)-10 b(ou)29 b(should)i(not)e(change)i(an)o(y)e(of)g
(the)h(interf)o(aces)i(in)d Fh(mm.h)p Fi(.)42 b(Ho)n(we)n(v)o(er)l(,)30
b(we)f(strongly)i(encourage)h(you)e(to)f(use)227 2877
y Fh(static)20 b Fi(helper)25 b(functions)h(in)e Fh(mm.c)d
Fi(to)i(break)i(up)e(your)i(code)f(into)g(small,)g(easy-to-understand)
29 b(se)o(gments.)136 3065 y Fc(\017)46 b Fi(Y)-10 b(ou)19
b(should)i(not)e(in)l(v)n(ok)o(e)j(an)o(y)d(e)o(xternal)i
(memory-management)h(related)e(library)h(calls)f(or)f(system)h(calls.)
28 b(The)19 b(use)227 3178 y(of)28 b(the)f Fh(libc)e(malloc)p
Fi(,)g Fh(calloc)p Fi(,)g Fh(free)p Fi(,)g Fh(realloc)p
Fi(,)f Fh(sbrk)p Fi(,)i Fh(brk)f Fi(or)i(an)o(y)h(other)h(memory)e
(management)227 3291 y(packages)f(is)e(strictly)h(prohibited.)136
3479 y Fc(\017)46 b Fi(Y)-10 b(ou)26 b(are)g(not)g(allo)n(wed)g(to)g
(de\002ne)g(an)o(y)g(global)h(data)g(structures)h(such)f(as)e(arrays,)j
(structs,)f(trees,)g(or)f(lists)g(in)g(your)227 3591
y Fh(mm.c)d Fi(program.)37 b(Ho)n(we)n(v)o(er)l(,)26
b(you)h Ff(ar)m(e)f Fi(allo)n(wed)g(to)g(declare)h(global)h(scalar)f(v)
n(ariables)h(such)e(as)g(inte)o(gers,)i(\003oats,)227
3704 y(and)c(pointers)i(in)d Fh(mm.c)p Fi(.)227 3855
y(The)c(reason)i(for)f(this)g(restriction)i(is)d(that)h(the)g(dri)n(v)o
(er)g(can')n(t)g(account)i(for)d(such)i(global)g(v)n(ariariables)h(in)d
(its)h(memory)227 3968 y(utilization)28 b(measure.)33
b(If)24 b(you)h(need)h(space)g(for)e(lar)n(ge)i(data)g(structures,)h
(you)e(can)g(put)g(them)g(at)f(the)h(be)o(ginning)i(of)227
4080 y(the)d(heap.)136 4268 y Fc(\017)46 b Fi(Y)-10 b(ou)23
b(are)g(not)g(allo)n(wed)h(to)e(simply)i(hand)g(in)e(the)h(code)h(for)f
(the)g(allocators)j(from)c(the)h(CS:APP)e(or)h(K&R)f(books.)30
b(If)227 4381 y(you)24 b(do)g(so)g(you)g(will)f(recei)n(v)o(e)h(no)g
(credit.)227 4531 y(Ho)n(we)n(v)o(er)l(,)i(we)f(encourage)k(you)d(to)g
(study)h(this)f(e)o(xamples)h(and)f(to)g(use)g(them)g(as)g(starting)i
(points.)36 b(F)o(or)25 b(e)o(xample,)227 4644 y(you)c(might)f(modify)h
(the)f(CS:APP)d(code)k(to)f(use)g(an)g(e)o(xplicit)h(list)f(with)g
(constant)i(time)e(coalescing.)30 b(Or)19 b(you)i(might)227
4757 y(modify)k(the)f(K&R)e(code)i(to)g(use)g(constant)i(time)e
(coalescing.)32 b(Or)23 b(you)h(might)h(use)f(either)h(one)f(as)g(the)g
(basis)g(for)g(a)227 4870 y(se)o(gre)o(gated)i(list)d(allocator)-5
b(.)31 b(Please)24 b(remember)l(,)h(ho)n(we)n(v)o(er)l(,)f(that)g(your)
g(allocator)i(must)e(be)f(for)h(64-bit)h(machines.)136
5058 y Fc(\017)46 b Fi(It)30 b(is)h(OK)e(to)h(look)h(at)g(an)o(y)f
(descriptions)k(of)c(algorithms)j(found)f(in)e(the)h(te)o(xtbook)h(or)f
(else)n(where,)i(b)n(ut)e(it)f(is)g Fg(not)227 5171 y
Fi(acceptable)g(to)d(cop)o(y)h(an)o(y)g(code)g(of)f(malloc)g
(implementations)k(found)d(online)h(or)e(in)g(other)h(sources,)i(e)o
(xcept)e(for)227 5283 y(the)c(implicit)h(list)f(allocator)h(described)i
(in)c(your)h(book)h(or)e(K&R.)1924 5712 y(5)p eop end
%%Page: 6 6
TeXDict begin 6 5 bop 136 573 a Fc(\017)46 b Fi(W)-7
b(e)29 b(encourage)i(you)f(to)f(study)i(the)e(trace)h(\002les)f(and)h
(optimize)g(for)g(them,)g(b)n(ut)g(your)g(code)g(must)f(be)g(correct)i
(on)227 686 y(an)o(y)26 b(trace.)34 b(The)25 b(score)h(you)g(get)g(is)f
(a)n(v)o(eraged)i(o)o(v)o(er)e(all)h(traces)g(mark)o(ed)g('*'.)34
b(The)25 b(utilization)j(score)f(weights)f(all)227 799
y(traces)h(equally)-6 b(,)29 b(whereas)e(the)f(performance)j(score)e
(weights)g(by)f(the)g(number)h(of)f(operations.)39 b(In)26
b(other)h(w)o(ords,)227 912 y(if)d(you)g(are)f(w)o(orried)i(about)g
(speed,)f(optimize)h(for)f(the)g(lar)n(gest)h(traces.)136
1095 y Fc(\017)46 b Fi(F)o(or)20 b(consistenc)o(y)j(with)d(the)h
Fh(libc)d(malloc)f Fi(package,)23 b(which)d(returns)i(blocks)g(aligned)
h(on)d(8-byte)i(boundaries,)227 1208 y(your)f(allocator)h(must)f(al)o
(w)o(ays)f(return)i(pointers)g(that)e(are)h(aligned)h(to)e(8-byte)h
(boundaries.)31 b(The)19 b(dri)n(v)o(er)i(will)f(check)227
1321 y(this)k(requirement.)136 1505 y Fc(\017)46 b Fi(Y)-10
b(our)34 b(code)g(MUST)e(compile)j(without)f(w)o(arnings.)61
b(W)-7 b(arnings)35 b(often)g(point)f(to)g(subtle)h(errors)g(in)e(your)
i(code;)227 1618 y(whene)n(v)o(er)d(you)g(get)f(a)g(w)o(arning,)j(you)e
(should)h(double-check)i(the)c(corresponding)36 b(line)31
b(to)g(see)h(if)f(the)g(code)h(is)227 1731 y(really)26
b(doing)h(what)e(you)g(intended.)36 b(If)24 b(it)h(is,)g(then)h(you)f
(should)i(eliminate)g(the)e(w)o(arning)h(by)f(tweaking)i(the)e(code)227
1844 y(\(for)h(instance,)h(one)e(common)g(type)h(of)f(w)o(arning)h(can)
f(be)g(eliminated)i(by)e(adding)i(a)d(type-cast)k(where)d(a)f(v)n(alue)
i(is)227 1957 y(being)k(con)l(v)o(erted)g(from)e(one)h(type)g(of)f
(pointer)i(to)e(another\).)44 b(W)-7 b(e)28 b(ha)n(v)o(e)g(added)i
(\003ags)e(in)g(the)g(Mak)o(e\002le)h(to)f(force)227
2070 y(your)h(code)g(to)g(be)f(error)h(free.)43 b(If)28
b(you)h(w)o(ould)g(lik)o(e)g(to)f(remo)o(v)o(e)g(those)h(\003ags)g
(during)g(de)n(v)o(elopment)i(that)e(is)f(\002ne,)227
2182 y(b)n(ut)c(please)h(realize)g(we)e(will)g(be)h(grading)h(you)f
(with)g(those)g(\003ags)g(acti)n(v)n(ated.)0 2512 y Fj(9)119
b(Ev)o(aluation)0 2758 y Fi(Submission)26 b(and)e(e)n(v)n(aluation)j
(will)d(occur)h(in)f(tw)o(o)g(stages:)31 b(checkpoint)d(and)c(\002nal)g
(hand-in.)33 b(The)23 b(checkpoint)28 b(is)c(w)o(orth)0
2871 y(20)j(points)i(and)f(only)g(checks)h(the)e(correctness)j(of)e
(your)g(allocator)-5 b(.)42 b(There)27 b(are)h(12)f(traces)h(that)g
(are)g(run,)g(and)f(you)h(will)0 2984 y(recei)n(v)o(e)f(points)h(for)e
(each)h(trace)g(that)f(runs)h(correctly)-6 b(.)39 b(Y)-10
b(ou)25 b(are)i(not)f(allo)n(wed)h(to)f(submit)h(the)f(checkpoint)j
(late,)e(e)n(v)o(en)f(if)0 3097 y(you)e(ha)n(v)o(e)g(grace)h(days)f(a)n
(v)n(ailable.)0 3249 y(The)31 b(grading)j(of)d(the)h(\002nal)g(hand-in)
h(will)f(be)f(based)i(on)f(performance)i(of)e(your)g(allocator)i(on)e
(the)g(gi)n(v)o(en)g(traces,)j(the)0 3362 y(quality)25
b(of)f(your)g(heap)g(check)o(er)l(,)i(and)e(your)g(coding)i(style.)j
(The)23 b(\002nal)h(hand-in)h(is)e(described)k(in)c(more)h(detail)g
(belo)n(w)-6 b(.)0 3514 y(The)21 b(checkpoint)j(and)d(\002nal)g
(hand-in)i(must)e(be)g(submitted)h(separately)-6 b(.)31
b(The)o(y)21 b(appear)h(as)f(separate)i(projects)g(on)e(autolab)l(.)0
3666 y(This)i(is)h(a)f(special)i(lab)f(in)g(that)g(it)f(is)h(not)g(e)o
(xpected)h(for)f(you)g(to)g(get)g(a)f(100.)29 b(Inf)o(act,)c(in)e(pre)n
(vious)j(semesters,)f(no)f(students)0 3779 y(ha)n(v)o(e)f(recei)n(v)o
(ed)i(a)d(perfect)i(score)g(on)f(this)g(lab)l(.)30 b(Do)22
b(not)h(be)g(alarmed)g(that)h(you)f(cannot)h(get)f(a)g(perfect)h(100!)
30 b(Earning)23 b(a)g(95)0 3892 y(on)h(malloc)g(is)f
Ff(e)n(xtr)m(emely)i Fi(impressi)n(v)o(e)g(and)f(you)g(should)h(be)f(v)
o(ery)g(proud)h(if)e(you)h(can)g(do)g(so.)0 4044 y Ff(Heap)g
(Consistency)i(Chec)n(k)o(er)f(\(10)f(points\).)31 b
Fi(T)-6 b(en)23 b(points)j(will)d(be)h(a)o(w)o(arded)g(based)h(on)f
(the)g(quality)i(of)d(your)i(implemen-)0 4157 y(tation)g(of)e
Fh(mm)p 443 4157 28 4 v 32 w(checkheap)p Fi(.)h(It)f(is)g(up)g(to)h
(your)g(discretion)i(ho)n(w)d(thorough)i(you)f(w)o(ant)g(your)g(heap)g
(check)o(er)h(to)f(be.)k(The)0 4270 y(more)c(the)f(check)o(er)j(tests,)
e(the)g(more)f(v)n(aluable)j(it)d(will)g(be)h(as)f(a)g(deb)n(ugging)k
(tool.)0 4422 y(Ho)n(we)n(v)o(er)l(,)d(to)g(recei)n(v)o(e)h(full)f
(credit)i(for)e(this)h(part,)f(we)f(require)j(that)f(the)f(header)i
(comments)e(for)h(your)g(heap)g(check)o(er)h(list)0 4535
y Fg(all)52 b Fi(of)26 b(the)g(in)l(v)n(ariants)j(of)d(your)h(data)g
(structures.)39 b(F)o(or)26 b(each)h(such)g(in)l(v)n(ariant,)i(you)d
(should)i(state)f(whether)g(or)g(not)f(your)0 4648 y(heap)i(check)o(er)
i(v)o(eri\002es)d(that)h(it)f(is)h(satis\002ed.)41 b(\(It)28
b(is)f(not)h(OK)e(to)h(list)h(all)f(the)h(in)l(v)n(ariants)i(and)e(not)
g(check)g(an)o(y)g(of)f(them)g(-)0 4761 y(you)22 b(should)i(at)e(least)
h(v)o(erify)f(the)h(critical)g(portions\).)31 b(Some)21
b(e)o(xamples)i(of)f(what)g(your)g(heap)h(check)o(er)h(should)g(check)f
(are)0 4874 y(pro)o(vided)j(belo)n(w)-6 b(.)136 5114
y Fc(\017)46 b Fi(Checking)25 b(the)f(heap)h(\(implicit)g(list,)e(e)o
(xplicit)i(list,)f(se)o(gre)o(gated)h(list\):)336 5321
y Fg(\226)46 b Fi(Check)24 b(epilogue)i(and)e(prologue)i(blocks.)336
5463 y Fg(\226)46 b Fi(Check)24 b(block')-5 b(s)26 b(address)f
(alignment.)1924 5712 y(6)p eop end
%%Page: 7 7
TeXDict begin 7 6 bop 336 573 a Fg(\226)46 b Fi(Check)24
b(heap)h(boundaries.)336 712 y Fg(\226)46 b Fi(Check)27
b(each)h(block')-5 b(s)28 b(header)g(and)f(footer:)37
b(size)27 b(\(minimum)g(size,)h(alignment\),)h(pre)n(v/ne)o(xt)f
(allocate/free)427 825 y(bit)c(consistenc)o(y)-6 b(,)26
b(header)f(and)f(footer)h(matching)g(each)g(other)-5
b(.)336 963 y Fg(\226)46 b Fi(Check)24 b(coalescing:)32
b(no)24 b(tw)o(o)f(consecuti)n(v)o(e)k(free)d(blocks)h(in)e(the)h
(heap.)136 1165 y Fc(\017)46 b Fi(Checking)25 b(the)f(free)g(list)g
(\(e)o(xplicit)i(list,)d(se)o(gre)o(gated)i(list\):)336
1367 y Fg(\226)46 b Fi(All)32 b(ne)o(xt/pre)n(v)i(pointers)g(are)f
(consistent)i(\(if)d(A)-10 b(')-5 b(s)32 b(ne)o(xt)g(pointer)i(points)g
(to)e(B,)f(B')-5 b(s)32 b(pre)n(v)g(pointer)i(should)427
1480 y(point)25 b(to)e(A\).)336 1618 y Fg(\226)46 b Fi(All)23
b(free)h(list)g(pointers)i(points)f(between)f Fh(mem)p
1920 1618 28 4 v 32 w(heap)p 2172 1618 V 31 w(lo\(\))d
Fi(and)j Fh(mem)p 2763 1618 V 31 w(heap)p 3014 1618 V
31 w(high\(\))p Fi(.)336 1757 y Fg(\226)46 b Fi(Count)30
b(free)g(blocks)i(by)d(iterating)j(e)n(v)o(ery)e(block,)i(and)e(tra)n
(v)o(ersing)j(free)d(list)g(by)f(pointers)j(and)e(see)g(if)g(the)o(y)
427 1870 y(match.)336 2009 y Fg(\226)46 b Fi(All)23 b(blocks)i(in)f
(each)g(list)g(b)n(uck)o(et)h(f)o(all)f(within)g(b)n(uck)o(et)i(size)e
(range)g(\(se)o(gre)o(gated)i(list\).)0 2239 y Ff(Style)e(\(10)g
(points\).)136 2447 y Fc(\017)46 b Fi(Y)-10 b(our)33
b(code)g(should)h(be)e(decomposed)j(into)e(functions)i(and)e(use)g(as)f
(fe)n(w)g(global)i(v)n(ariables)g(as)f(possible.)57 b(Y)-10
b(ou)227 2560 y(should)25 b(use)f(macros)h(or)e(inline)i(functions)h
(to)d(isolate)j(the)d(pointer)j(arithmetic)f(to)e(as)h(fe)n(w)f(places)
i(as)e(possible.)136 2741 y Fc(\017)46 b Fi(Y)-10 b(our)23
b(code)h(must)e(be)o(gin)i(with)e(a)h(header)h(comment)f(that)g(gi)n(v)
o(es)h(an)e(o)o(v)o(ervie)n(w)h(of)g(the)g(structure)i(of)e(your)g
(free)g(and)227 2854 y(allocated)j(blocks,)f(the)f(or)n(ganization)j
(of)c(the)h(free)g(list,)g(and)g(ho)n(w)f(your)h(allocator)i
(manipulates)g(the)e(free)g(list.)136 3034 y Fc(\017)46
b Fi(In)22 b(addition)i(to)e(this)g(o)o(v)o(ervie)n(w)h(header)g
(comment,)f(each)h(function)h(should)g(be)e(preceded)i(by)e(a)f(header)
i(comment)227 3147 y(that)h(describes)i(what)e(the)g(function)h(does.)0
3475 y Fj(10)119 b(Handin)31 b(Instructions)0 3721 y
Fi(Mak)o(e)24 b(sure)g(you)g(ha)n(v)o(e)g(included)i(your)e(name)g(and)
g(Andre)n(w)f(ID)g(in)g(the)h(header)h(comment)f(of)g
Fh(mm.c)p Fi(.)0 3873 y(Hand)29 b(in)f(your)h Fh(mm.c)d
Fi(\002le)i(by)h(uploading)i(it)d(to)h(Autolab)l(.)45
b(Y)-10 b(ou)28 b(may)g(submit)h(your)h(solution)h(as)d(man)o(y)g
(times)h(as)f(you)0 3986 y(wish)23 b(up)h(until)h(the)e(due)h(date.)0
4138 y(Only)g(the)f(last)h(v)o(ersion)h(you)f(submit)h(will)e(be)g
(graded.)0 4290 y(F)o(or)g(this)h(lab,)f(you)h(must)g(upload)h(your)f
(code)h(for)f(the)f(results)i(to)f(appear)h(on)f(the)f(class)i(status)g
(page.)0 4442 y Fg(NO)l(TE:)e Fi(In)h(pre)n(vious)i(semesters)g(we)d
(ha)n(v)o(e)i(had)g(man)o(y)f(students)j(who)d(do)g(not)h(\002nish)f
(this)h(lab)f(within)h(the)g(time)f(limits,)0 4555 y(for)f(this)g
(reason)i(we)d(strongly)j(encourage)g(you)f(to)f(submit)g(whate)n(v)o
(er)h(code)f(you)h(ha)n(v)o(e)f(that)h(recei)n(v)o(es)g(the)f(highest)i
(grade)0 4668 y(possible)30 b(the)f(due)g(date)g(\(and)g(e)n(v)o(ery)f
(24)h(hours)g(thereafter)i(if)d(you)h(are)f(using)i(late)f(days\).)44
b(This)28 b(will)g(ensure)i(that)e(you)0 4781 y(ha)n(v)o(e)c
Ff(something)i Fi(submitted)f(for)f(us)f(to)h(gi)n(v)o(e)f(you)h
(points)h(for)-5 b(.)0 5109 y Fj(11)119 b(Hints)136 5350
y Fc(\017)46 b Ff(Use)31 b(the)h Fh(mdriver)27 b(-c)j
Ff(option)j(or)e Fh(-f)e Ff(option.)54 b Fi(During)32
b(initial)h(de)n(v)o(elopment,)i(using)d(tin)o(y)g(trace)g(\002les)f
(will)227 5463 y(simplify)24 b(deb)n(ugging)i(and)e(testing.)30
b(The)22 b(\002rst)h(se)n(v)o(eral)g(traces)h(that)g
Fh(mdriver)19 b Fi(runs)k(are)g(such)h(small)f(trace)g(\002les.)1924
5712 y(7)p eop end
%%Page: 8 8
TeXDict begin 8 7 bop 136 573 a Fc(\017)46 b Ff(Use)29
b(the)h Fh(mdriver)c(-V)h Ff(options.)49 b Fi(The)29
b Fh(-V)f Fi(option)j(will)e(also)h(indicate)h(when)f(each)g(trace)g
(\002le)f(is)h(processed,)227 686 y(which)24 b(will)f(help)i(you)f
(isolate)h(errors.)136 873 y Fc(\017)46 b Ff(Use)23 b(the)h
Fh(mdriver)c(-D)i Ff(option.)30 b Fi(This)23 b(does)i(a)e(lot)g(of)h
(checking)i(to)d(quickly)j(\002nd)d(errors.)136 1061
y Fc(\017)46 b Ff(Use)32 b(a)f(deb)n(ug)o(g)o(er)-10
b(.)56 b Fi(A)31 b(deb)n(ugger)j(will)d(help)i(you)f(isolate)h(and)g
(identify)g(out)f(of)g(bounds)i(memory)e(references.)227
1174 y(Modify)25 b(the)e(Mak)o(e\002le)h(to)f(pass)h(the)g
Fh(-g)e Fi(option)j(to)e Fh(gcc)p Fi(,)e(and)j(not)f(to)h(pass)g(the)g
Fh(-O2)d Fi(option)k(to)e Fh(gcc)p Fi(,)e(when)i(you)227
1287 y(are)g(using)g(a)f(deb)n(ugger)-5 b(.)30 b(But)22
b(don')n(t)i(for)n(get)f(to)g(restore)g(the)g(Mak)o(e\002le)f(to)g(the)
h(original)h(when)e(doing)h(performance)227 1400 y(testing.)136
1587 y Fc(\017)46 b Ff(Use)23 b(gdb')l(s)h Fh(watch)c
Ff(command)k Fi(to)e(\002nd)h(out)g(what)g(changed)i(some)e(v)n(alue)h
(you)f(didn')n(t)i(e)o(xpect)f(to)f(ha)n(v)o(e)g(changed.)136
1775 y Fc(\017)46 b Ff(Encapsulate)26 b(your)e(pointer)g(arithmetic)h
(in)e(C)f(pr)m(epr)l(ocessor)k(macr)l(os)e(or)f(inline)h(functions.)31
b Fi(Pointer)24 b(arithmetic)227 1888 y(in)30 b(memory)f(managers)i(is)
e(confusing)j(and)e(error)n(-prone)j(because)e(of)e(all)h(the)f
(casting)i(that)f(is)f(necessary)-6 b(.)49 b(Y)-10 b(ou)227
2001 y(can)29 b(reduce)h(the)f(comple)o(xity)i(signi\002cantly)g(by)e
(writing)g(macros)g(for)g(your)h(pointer)g(operations.)47
b(See)28 b(the)h(te)o(xt)227 2114 y(for)24 b(e)o(xamples.)136
2301 y Fc(\017)46 b Ff(Remember)22 b(we)e(ar)m(e)i(working)h(with)e
(64-bit)i(\002sh)f(mac)o(hines.)29 b Fi(Pointers)23 b(tak)o(e)f(up)g(8)
f(bytes)h(of)g(space,)h(so)e(you)h(should)227 2414 y(understand)31
b(the)d(macros)h(in)e(the)h(book)h(and)f(port)h(them)e(to)h(64-bit)h
(machines.)43 b(Notably)-6 b(,)30 b Fh(sizeof\(size)p
3762 2414 28 4 v 28 w(t\))227 2527 y(==)54 b(8)22 b Fi(on)i(64-bit)h
(machines.)136 2715 y Fc(\017)46 b Ff(Use)29 b(your)i(heap)f
(consistency)j(c)o(hec)n(k)o(er)-10 b(.)49 b Fi(W)-7
b(e)28 b(are)i(assigning)i(ten)e(points)h(to)f(your)g
Fh(mm)p 3044 2715 V 32 w(heapcheck)25 b Fi(function)227
2828 y(for)i(a)f(reason.)38 b(A)25 b(good)j(heap)f(consistenc)o(y)i
(check)o(er)g(will)d(sa)n(v)o(e)g(you)h(hours)h(and)f(hours)g(when)g
(deb)n(ugging)i(your)227 2941 y(malloc)j(package.)52
b(Y)-10 b(ou)31 b(can)g(use)g(your)h(heap)g(check)o(er)g(to)f(\002nd)g
(out)g(where)g(e)o(xactly)h(things)g(are)f(going)h(wrong)227
3054 y(in)g(your)h(implementation)i(\(hopefully)g(not)d(in)g(too)h(man)
o(y)f(places!\).)56 b(Mak)o(e)32 b(sure)h(that)f(your)h(heap)g(check)o
(er)h(is)227 3166 y(detailed.)d(Y)-10 b(our)22 b(heap)g(check)o(er)i
(should)g(scan)f(the)f(heap,)h(performing)h(sanity)g(checks)g(and)e
(possibly)i(printing)h(out)227 3279 y(useful)31 b(deb)n(ugging)j
(information.)50 b(Ev)o(ery)29 b(time)h(you)h(change)g(your)g
(implementation,)j(one)c(of)g(the)g(\002rst)f(things)227
3392 y(you)i(should)g(do)f(is)f(think)i(about)g(ho)n(w)e(your)i
Fh(mm)p 1814 3392 V 32 w(heapcheck)25 b Fi(will)k(change,)k(what)c
(sort)h(of)g(tests)h(need)f(to)g(be)227 3505 y(performed,)25
b(etc.)136 3693 y Fc(\017)46 b Ff(Use)23 b(a)h(pr)l(o\002ler)-10
b(.)30 b Fi(Y)-10 b(ou)23 b(may)h(\002nd)f(the)h Fh(gprof)c
Fi(tool)k(helpful)h(for)f(optimizing)i(performance.)136
3880 y Fc(\017)46 b Ff(K)m(eep)32 b(bac)n(kups.)55 b
Fi(Whene)n(v)o(er)33 b(you)f(ha)n(v)o(e)g(a)f(w)o(orking)i(allocator)h
(and)e(are)g(considering)j(making)d(changes)i(to)d(it,)227
3993 y(k)o(eep)23 b(a)f(backup)h(cop)o(y)g(of)f(the)g(last)g(w)o
(orking)i(v)o(ersion.)29 b(It')-5 b(s)23 b(v)o(ery)f(common)g(to)g(mak)
o(e)g(changes)i(that)e(inadv)o(ertently)227 4106 y(break)j(the)f(code,)
g(and)g(then)g(ha)n(v)o(e)g(trouble)i(undoing)f(them.)136
4294 y Fc(\017)46 b Ff(V)-10 b(er)o(sioning)36 b(your)e
(implementation.)61 b Fi(Y)-10 b(ou)34 b(may)f(\002nd)g(it)g(useful)i
(to)e(manage)h(a)f(couple)i(of)f(dif)n(ferent)h(v)o(ersions)227
4407 y(of)30 b(implementation)j(\(i.e.)47 b(e)o(xplicit)31
b(list,)h(se)o(gre)o(gated)f(list\))g(during)g(the)f(assignment.)50
b(Since)30 b Fh(mdriver)c Fi(looks)227 4520 y(for)h Fh(mm.c)p
Fi(,)e(creating)k(a)e(symbolic)i(link)e(between)h(\002les)f(is)g
(useful)h(in)f(this)h(case.)39 b(F)o(or)26 b(e)o(xample,)j(you)e(can)h
(create)227 4633 y(a)d(symbolic)h(link)g(between)g Fh(mm.c)c
Fi(and)k(your)g(implementation)h(such)f(as)f Fh(mm-explicit.c)18
b Fi(with)25 b(command)227 4746 y(line)c Fh(ln)54 b(-s)f(mm-explicit)d
(mm.c)p Fi(.)25 b(No)n(w)19 b(w)o(ould)h(also)h(be)f(an)h(great)g(time)
f(to)g(learn)h(an)f(industrial-strength)227 4858 y(v)o(ersion)25
b(control)h(system)e(lik)o(e)g(Git)f(\(http://git-scm.com\).)136
5046 y Fc(\017)46 b Ff(Start)24 b(early!)30 b Fi(It)23
b(is)f(possible)j(to)e(write)g(an)g(ef)n(\002cient)h(malloc)f(package)i
(with)e(a)f(fe)n(w)g(pages)i(of)f(code.)29 b(Ho)n(we)n(v)o(er)l(,)23
b(we)227 5159 y(can)h(guarantee)i(that)f(it)e(will)g(be)h(some)g(of)f
(the)h(most)g(dif)n(\002cult)g(and)g(sophisticated)k(code)c(you)g(ha)n
(v)o(e)h(written)f(so)g(f)o(ar)227 5272 y(in)g(your)g(career)-5
b(.)30 b(So)23 b(start)h(early)-6 b(,)24 b(and)g(good)h(luck!)1924
5712 y(8)p eop end
%%Page: 9 9
TeXDict begin 9 8 bop 0 573 a Fj(12)119 b(Mor)n(e)30
b(Hints)0 819 y Fi(Basically)-6 b(,)34 b(you)d(w)o(ant)f(to)h(design)h
(an)f(algorithm)h(and)f(data)g(structure)i(for)e(managing)h(free)f
(blocks)h(that)g(achie)n(v)o(es)g(the)0 932 y(right)25
b(balance)i(of)d(space)h(utilization)j(and)d(speed.)32
b(Note)25 b(that)f(this)h(in)l(v)n(olv)o(es)i(a)d(tradeof)n(f.)33
b(F)o(or)24 b(space,)h(you)g(w)o(ant)g(to)f(k)o(eep)0
1045 y(your)33 b(internal)h(data)f(structures)i(small.)54
b(Also,)34 b(while)e(allocating)j(a)d(free)h(block,)i(you)d(w)o(ant)h
(to)f(do)g(a)g(thorough)i(\(and)0 1158 y(hence)24 b(slo)n(w\))f(scan)g
(of)g(the)g(free)h(blocks,)g(to)f(e)o(xtract)h(a)e(block)i(that)g(best)
f(\002ts)g(our)g(needs.)30 b(F)o(or)22 b(speed,)h(you)h(w)o(ant)f(f)o
(ast)g(\(and)0 1271 y(hence)h(complicated\))i(data)d(structures)i(that)
f(consume)g(more)f(space.)29 b(Here)23 b(are)g(some)g(of)g(the)g
(design)h(options)h(a)n(v)n(ailable)0 1384 y(to)e(you:)136
1610 y Fc(\017)46 b Fi(Data)24 b(structures)i(to)d(or)n(ganize)j(free)e
(blocks:)336 1798 y Fg(\226)46 b Fi(Implicit)25 b(free)f(list)336
1944 y Fg(\226)46 b Fi(Explicit)25 b(free)f(list)336
2090 y Fg(\226)46 b Fi(Se)o(gre)o(gated)25 b(free)f(lists)136
2278 y Fc(\017)46 b Fi(Algorithms)25 b(to)f(scan)g(free)g(blocks:)336
2465 y Fg(\226)46 b Fi(First)24 b(\002t/Ne)o(xt)f(\002t)336
2612 y Fg(\226)46 b Fi(Blocks)25 b(sorted)f(by)g(address)h(with)f
(\002rst)f(\002t)336 2758 y Fg(\226)46 b Fi(Best)24 b(\002t)0
2984 y(Y)-10 b(ou)25 b(can)g(pick)g(\(almost\))h(an)o(y)f(combination)j
(from)c(the)h(tw)o(o.)32 b(F)o(or)24 b(e)o(xample,)i(you)f(can)g
(implement)h(an)f(e)o(xplicit)h(free)g(list)0 3097 y(with)f(ne)o(xt)g
(\002t,)e(a)i(se)o(gre)o(gated)h(list)f(with)g(best)g(\002t,)f(and)h
(so)g(on.)32 b(Also,)25 b(you)g(can)g(b)n(uild)h(on)f(a)f(w)o(orking)i
(implementation)i(of)0 3210 y(a)23 b(simple)h(data)g(structure)i(to)e
(a)f(more)g(complicated)j(one.)0 3362 y(In)h(general,)h(we)e(suggest)j
(that)e(you)g(start)h(with)e(an)h(implicit)h(free)f(list,)g(then)h
(change)g(this)f(to)g(an)f(e)o(xplicit)j(list,)e(and)g(then)0
3475 y(use)d(the)g(e)o(xplicit)h(list)f(as)f(the)h(basis)h(for)e(a)g
(\002nal)h(v)o(ersion)h(based)f(on)g(se)o(gre)o(gated)h(lists.)1924
5712 y(9)p eop end
%%Trailer

userdict /end-hook known{end-hook}if
%%EOF
